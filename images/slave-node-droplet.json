{
  "variables": {
    "digitalocean_api_token": "{{env `DIGITALOCEAN_API_TOKEN`}}",
    "digitalocean_region": "{{env `DIGITALOCEAN_REGION`}}",
    "digitalocean_size": "{{env `DIGITALOCEAN_SIZE`}}",
    "digitalocean_image": "{{env `DIGITALOCEAN_IMAGE`}}",
    "mesos_version": "0.23.0-1.0",
    "docker_version": "1.8.1-1"
  },
  "builders": [{
    "type": "digitalocean",
    "snapshot_name": "mesos-slave-{{user `digitalocean_image`}}-{{ timestamp }}",
    "api_token": "{{ user `digitalocean_api_token` }}",
    "image": "{{user `digitalocean_image`}}",
    "region": "{{user `digitalocean_region`}}",
    "size": "{{user `digitalocean_size`}}",
    "ssh_timeout": "10m"
  }],
  "provisioners": [
    {
      "type": "shell",
      "environment_vars": [
        "MESOS_VERSION={{user `mesos_version`}}",
        "DOCKER_VERSION={{user `docker_version`}}"
      ],
      "scripts": [
        "scripts/bootstrap-mesos-slave.sh"
      ]
    }
  ]
}
